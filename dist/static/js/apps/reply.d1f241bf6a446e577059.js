webpackJsonp([3],{107:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(5),n=e(28);i.default={data:function(){return{group:[]}},created:function(){for(var t=new Array,i=0;i<n.a.length;i++){var e=Math.floor(i/5);t[e]||(t[e]=new Array),t[e].push(n.a[i])}this.group=t},methods:{sel:function(t){a.a.$emit(a.b.SEL_BROW,"（#"+t.name+"）")}}}},114:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(3),n=e(5),s=e(59),o=e.n(s),c=e.i(a.a)({indicator:!0});i.default={data:function(){return{comment:"",showCode:0,multis:[],initUploader:!1}},created:function(){var t=this;n.a.$on(n.b.SEL_BROW,function(i){t.comment+=i}),this.replyType=$.getUrlParam("reply_type"),this.args={pid:$.getUrlParam("pid"),cid:$.getUrlParam("cid")}},methods:{uploadChange:function(t){var i,e=this,a=t.target;window.URL||window.webkitURL;if(i=a.files[0]){var n=new FileReader;n.readAsDataURL(i),n.onload=function(t){e.selectedMulti(this.result)}}$(a).val("")},getContent:function(){var t=$.getUrlParam("pid"),i=this;c({data:{api:"post_details",pid:t},method:"post"}).then(function(t){var e=t.data;e.cover="http://peining.tunnel.echomod.cn/university/images/img_14347674602997.jpg",i.data=e}).catch(function(t){})},changePanel:function(t){1==t&&(t=this.showCode==t?0:t),this.showCode=t},submit:function(){var t=this;if(""==this.comment)return void this.$f7.alert("内容不能为空","");var i=this.args.cid?"insert_reply":"insert_comment",e={api:i,pid:this.args.pid,uid:"1"};this.args.cid?(e.cid=this.args.cid,e.content=this.comment):e.comment=this.comment,c({data:e,method:"post"}).then(function(i){"OK"==i.statusText&&t.$f7.alert("回复成功","")})},selectedMulti:function(t){this.multis.push('url("'+t+'")')},removeMulti:function(t){this.multis.splice(t,1)}},components:{BrowPanel:o.a}}},119:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(2),n=e(31),s=e.n(n),o=e(16);e.n(o);a.a(s.a)},31:function(t,i,e){var a=e(1)(e(114),e(66),null,null);t.exports=a.exports},59:function(t,i,e){var a=e(1)(e(107),e(70),null,null);t.exports=a.exports},66:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("f7-views",[e("f7-view",{attrs:{id:"main-view",main:""}},[e("f7-pages",[e("div",{staticClass:"page page-bg-fill navbar-fixed reply-page"},[e("div",{staticClass:"page-content"},[e("div",{staticClass:"editor_panel"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"editor_input editor_content",attrs:{rows:"8",placeholder:"发表您的回复"},domProps:{value:t.comment},on:{input:function(i){i.target.composing||(t.comment=i.target.value)}}})]),t._v(" "),e("div",{staticClass:"media-bar"},[e("div",{staticClass:"btn-item",on:{click:function(i){t.changePanel(1)}}},[1!=t.showCode?e("i",{staticClass:"icon iconfont icon-emoji"}):t._e(),t._v(" "),1==t.showCode?e("i",{staticClass:"icon iconfont active icon-emojifill"}):t._e()]),t._v(" "),e("div",{staticClass:"btn-item",on:{click:function(i){t.changePanel(2)}}},[2!=t.showCode?e("i",{staticClass:"icon iconfont icon-xiangji"}):t._e(),t._v(" "),2==t.showCode?e("i",{staticClass:"icon iconfont active icon-camerafill"}):t._e(),t._v(" "),e("input",{ref:"uploadInput1",staticClass:"upload-input",attrs:{type:"file",name:""},on:{change:t.uploadChange}})]),t._v(" "),e("div",{staticClass:"btn-item",on:{click:function(i){t.changePanel(2)}}},[2!=t.showCode?e("i",{staticClass:"icon iconfont icon-pic"}):t._e(),t._v(" "),2==t.showCode?e("i",{staticClass:"icon iconfont active icon-picfill"}):t._e(),t._v(" "),e("input",{ref:"uploadInput1",staticClass:"upload-input",attrs:{type:"file",name:""},on:{change:t.uploadChange}})])]),t._v(" "),1==t.showCode?e("brow-panel"):t._e(),t._v(" "),t.multis.length>0&&t.showCode>1?e("div",{staticClass:"multi-preview"},[e("div",{staticClass:"multi-content",style:{width:95*(t.multis.length+1)+10+"px"}},[t._l(t.multis,function(i,a){return e("div",{staticClass:"item"},[e("span",{staticClass:"item-span",style:{"background-image":i}}),t._v(" "),e("a",{staticClass:"item-close",on:{click:function(i){t.removeMulti(a)}}},[e("span",{staticClass:"btn-close"})])])}),t._v(" "),e("div",{staticClass:"item add"},[e("input",{ref:"uploadInput2",staticClass:"upload-input",attrs:{type:"file",name:""},on:{change:t.uploadChange}})])],2)]):t._e(),t._v(" "),0==t.showCode?e("div",{staticClass:"row"},[e("div",{staticClass:"col-20"}),t._v(" "),e("div",{staticClass:"col-60"},[e("a",{staticClass:"button button-big button-fill",staticStyle:{margin:"5em 0"},attrs:{href:"#"},on:{click:function(i){t.submit()}}},[t._v("发布")])]),t._v(" "),e("div",{staticClass:"col-20"})]):t._e()],1)])])],1)],1),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"popover popover-links"},[e("div",{staticClass:"popover-angle"}),t._v(" "),e("div",{staticClass:"popover-inner"},[e("div",{staticClass:"list-block"},[e("ul",[e("li",[e("a",{staticClass:"list-button item-link",attrs:{href:"#"}},[t._v("回复")])])])])])])}]}},70:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"brow-panel-wrapper"},t._l(t.group,function(i){return e("div",{staticClass:"row"},t._l(i,function(i){return e("div",{staticClass:"col-20 brow-item-wrapper",on:{click:function(e){t.sel(i)}}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":i.link}})])])}))}))},staticRenderFns:[]}}},[119]);
//# sourceMappingURL=reply.d1f241bf6a446e577059.js.map