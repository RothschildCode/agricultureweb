webpackJsonp([4],{109:function(module,exports,__webpack_require__){var Component=__webpack_require__(0)(__webpack_require__(181),__webpack_require__(134),null,null);module.exports=Component.exports},11:function(module,exports,__webpack_require__){var Component=__webpack_require__(0)(__webpack_require__(20),__webpack_require__(16),null,null);module.exports=Component.exports},113:function(module,exports,__webpack_require__){var Component=__webpack_require__(0)(__webpack_require__(185),__webpack_require__(125),null,null);module.exports=Component.exports},125:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"more-operation"},[_c("a",{staticClass:"more-operation-btn f7-icons fontsize-2x",on:{click:function($event){_vm.openPopover($event)}}},[_vm._v("more")])])},staticRenderFns:[]}},130:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{attrs:{id:"app"}},[_c("f7-views",[_c("f7-view",{attrs:{id:"main-view",main:""}},[_c("f7-pages",[_c("div",{staticClass:"page toobar-fixed news-content-page",class:{"bg-fill":_vm.comments.length<1},attrs:{"data-page":"news-content"}},[_c("div",{staticClass:"page-content"},[_vm.data?_c("div",{staticClass:"floor-list"},[_c("h2",{staticClass:"subject",domProps:{innerHTML:_vm._s(_vm.data.subject)}}),_vm._v(" "),_c("div",{staticClass:"floor master more"},[_c("div",{staticClass:"floor-wrap"},[_c("div",{staticClass:"infos clearfix"},[_c("div",{staticClass:"avatar"},[_c("img",{attrs:{src:_vm.data.cover}})]),_vm._v(" "),_c("div",{staticClass:"author-time"},[_c("div",{staticClass:"author-icons"},[_c("span",{staticClass:"author",domProps:{innerHTML:_vm._s(_vm.data.username)}})]),_vm._v(" "),_c("div",{staticClass:"time"},[_c("span",{domProps:{innerHTML:_vm._s(_vm.data.dateline)}})])]),_vm._v(" "),_c("div",{staticClass:"more-operation"},[_c("a",{staticClass:"more-operation-btn f7-icons fontsize-2x",on:{click:function($event){_vm.openPopover($event)}}},[_vm._v("more")])])]),_vm._v(" "),_c("div",{staticClass:"item"},[_c("span",{staticClass:"title",domProps:{innerHTML:_vm._s(_vm.data.message)}})]),_vm._v(" "),_c("media-wrap",{attrs:{medias:_vm.data.img,block:!0}})],1)]),_vm._v(" "),_c("div",{staticClass:"floor-list"},_vm._l(_vm.comments,function(item,$index){return _c("comment",{key:$index,attrs:{data:item}})}))]):_vm._e()])])])],1)],1),_vm._v(" "),_c("div",{staticClass:"popover popover-more"},[_c("div",{staticClass:"popover-inner"},[_c("div",{staticClass:"list-block"},[_c("ul",[_c("li",[_c("a",{staticClass:"list-button item-link",attrs:{href:"#"},on:{click:_vm.goReply}},[_vm._v("回复")])])])])])])],1)},staticRenderFns:[]}},134:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"floor more"},[_c("div",{staticClass:"floor-wrap"},[_c("div",{staticClass:"infos clearfix"},[_c("div",{staticClass:"avatar"},[_c("img",{attrs:{src:_vm.data.cover}})]),_vm._v(" "),_c("div",{staticClass:"author-time"},[_c("div",{staticClass:"author-icons"},[_c("span",{staticClass:"author",domProps:{innerHTML:_vm._s(_vm.data.username)}})]),_vm._v(" "),_c("div",{staticClass:"time"},[_c("span",{domProps:{innerHTML:_vm._s(_vm.data.dateline)}})])]),_vm._v(" "),_c("more-operation-btn",{attrs:{data:_vm.data}})],1),_vm._v(" "),_c("div",{staticClass:"item"},[_c("span",{staticClass:"content",domProps:{innerHTML:_vm._s(_vm.data.comment)}}),_vm._v(" "),_vm.replylist.length>0?_c("div",{staticClass:"reply-wrap"},[_c("ul",_vm._l(_vm.replylist,function(reply){return _c("li",{staticClass:"reply-item"},[_c("a",{staticClass:"user-name"},[_vm._v(_vm._s(reply.username))]),_vm._v(":\n\t\t\t\t\t\t"),_c("span",{staticClass:"reply-content",domProps:{innerHTML:_vm._s(reply.content)}})])}))]):_vm._e()])])])},staticRenderFns:[]}},16:function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"medias-wrap",class:{"medias-block-wrap":_vm.block}},[_vm._l(_vm.medias,function(image,$index){return _vm.block?_c("img",{attrs:{src:image},on:{click:function($event){$event.stopPropagation(),_vm.preview($index)}}}):_vm._e()}),_vm._v(" "),_vm._l(_vm.mediasData,function(sty,$index){return!_vm.block&&$index<3?_c("div",{staticClass:"medias-item",class:{"medias-one-pic":1==_vm.mediasData.length,"medias-multi-pic":_vm.mediasData.length>1},style:sty,on:{click:function($event){$event.stopPropagation(),_vm.preview($index)}}}):_vm._e()})],2)},staticRenderFns:[]}},181:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__component_MoreOperationBtn__=__webpack_require__(113),__WEBPACK_IMPORTED_MODULE_0__component_MoreOperationBtn___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__component_MoreOperationBtn__),__WEBPACK_IMPORTED_MODULE_1__common_http__=__webpack_require__(1);__webpack_exports__.default={props:["data"],data:function(){return{replylist:[]}},created:function(){this.getReplylist()},methods:{getReplylist:function(){var _this=this;__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__common_http__.c)({data:{api:"reply_list",cid:this.data.id},method:"post"}).then(function(res){for(var list=res.data.data,i=0;i<list.length;i++)list[i].content=$.parseRichText(list[i].content);_this.replylist=list})}},components:{MoreOperationBtn:__WEBPACK_IMPORTED_MODULE_0__component_MoreOperationBtn___default.a}}},185:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__js_bus__=__webpack_require__(7);__webpack_exports__.default={props:["data"],methods:{openPopover:function(e){__WEBPACK_IMPORTED_MODULE_0__js_bus__.a.$emit(__WEBPACK_IMPORTED_MODULE_0__js_bus__.b.MORE_OPERATION_TAP,{e:e,data:this.data})}}}},194:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__component_MediaWrap__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_0__component_MediaWrap___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__component_MediaWrap__),__WEBPACK_IMPORTED_MODULE_1__component_Comment__=__webpack_require__(109),__WEBPACK_IMPORTED_MODULE_1__component_Comment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__component_Comment__),__WEBPACK_IMPORTED_MODULE_2__common_http__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_3__js_bus__=__webpack_require__(7),http=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common_http__.a)({indicator:!0});__webpack_exports__.default={data:function(){return{data:null,comments:[],pid:null,cid:null}},created:function(){var _this=this;__WEBPACK_IMPORTED_MODULE_3__js_bus__.a.$on(__WEBPACK_IMPORTED_MODULE_3__js_bus__.b.MORE_OPERATION_TAP,function(c){_this.openPopover(c.e,c.data.id)}),this.pid=$.getUrlParam("pid"),this.getContent(),this.getComments()},methods:{openPopover:function(e,cid){this.cid=cid,this.$f7.popover(".popover-more",e.currentTarget)},getContent:function(){var _this=this;http({data:{api:"post_details",pid:this.pid},method:"post"}).then(function(res){var d=res.data.data;d.cover="http://39.107.99.122/university/images/img_14347674602997.jpg",_this.data=d}).catch(function(err){})},getComments:function(){var _this=this;http({data:{api:"post_comment_list",pid:this.pid},method:"post"}).then(function(res){for(var list=res.data.data,i=0;i<list.length;i++)list[i].cover="http://39.107.99.122/university/images/img_14347674602997.jpg",list[i].comment=$.parseRichText(list[i].comment);_this.comments=list}).catch(function(err){})},showActions:function(){var _this=this,buttons=[{text:"回复",onClick:function(){_this.goReply()}}];this.$f7.actions(buttons)},goReply:function(){if(app.isLogin(this)){var url="reply.html?webview_transition&type=2&pid="+this.pid;this.cid&&(url=url+"&cid="+this.cid),window.location.href=url}}},components:{MediaWrap:__WEBPACK_IMPORTED_MODULE_0__component_MediaWrap___default.a,Comment:__WEBPACK_IMPORTED_MODULE_1__component_Comment___default.a}}},20:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_exports__.default={props:["medias","block"],data:function(){return{size:.32*(document.body.clientWidth-34),mediasData:[]}},created:function(){this.init()},methods:{init:function(){for(var mediasData=new Array,i=0;i<this.medias.length;i++){var w=this.size+"px",h=this.size+"px",bg="url("+this.medias[i]+")";1==this.medias.length?mediasData.push({backgroundImage:bg}):mediasData.push({width:w,height:h,backgroundImage:bg})}this.mediasData=mediasData},preview:function(index){this.$f7.photoBrowser({photos:this.medias,initialSlide:index,theme:"dark",backLinkText:"关闭"}).open()}}}},201:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__main_js__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__pages_Content__=__webpack_require__(79),__WEBPACK_IMPORTED_MODULE_1__pages_Content___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__pages_Content__);__WEBPACK_IMPORTED_MODULE_0__main_js__.a(__WEBPACK_IMPORTED_MODULE_1__pages_Content___default.a)},7:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return eventbus}),__webpack_require__.d(__webpack_exports__,"b",function(){return EVENTS});var __WEBPACK_IMPORTED_MODULE_0_vue__=__webpack_require__(10),eventbus=new __WEBPACK_IMPORTED_MODULE_0_vue__.default,EVENTS={PULL_SCROLL_LOAD:"PULL_SCROLL_LOAD",SUBNAV_ITEM_TAP:"SUBNAV_ITEM_TAP",MORE_OPERATION_TAP:"MORE_OPERATION_TAP"}},79:function(module,exports,__webpack_require__){var Component=__webpack_require__(0)(__webpack_require__(194),__webpack_require__(130),null,null);module.exports=Component.exports}},[201]);